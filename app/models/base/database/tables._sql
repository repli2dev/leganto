DROP TABLE IF EXISTS `language`;
CREATE TABLE `language` (
	`id_language` INT (25) UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY COMMENT 'identifikator',
	`name` VARCHAR (50) NOT NULL COMMENT 'nazev jazyka',
	`locale` VARCHAR (10) NOT NULL COMMENT 'zkratka jazyka',
	UNIQUE (`name`), UNIQUE (`locale`)
) ENGINE = InnoDB COMMENT = 'Obsahuje pouzivane jazyky';

DROP TABLE IF EXISTS `domain`;
CREATE TABLE `domain` (
	`id_domain` INT (25) UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY COMMENT 'identifikator',
	`id_language` INT (25) UNSIGNED NOT NULL COMMENT 'jazyk, ve kterem je domena vedena',
	`id_role` INT (25) UNSIGNED NULL COMMENT 'defaultni role, ktera se dava uzivatelum pri registraci',
	`uri` VARCHAR (50) NOT NULL COMMENT 'domena, na ktere web bezi',
	`email` VARCHAR(100) NOT NULL COMMENT 'e-mail webu',
	FOREIGN KEY (`id_language`) REFERENCES `language`(`id_language`) ON UPDATE CASCADE ON DELETE CASCADE,
	UNIQUE (`uri`)
) ENGINE = InnoDB COMMENT = 'Jednotlive instance webu.';

DROP TABLE IF EXISTS `module`;
CREATE TABLE `module` (
	`id_module` INT(25) UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY COMMENT 'identifikator',
	`name` VARCHAR(100) NOT NULL UNIQUE COMMENT 'nazev modulu'
) ENGINE = InnoDB COMMENT = 'moduly pouzite v systemu';

DROP TABLE IF EXISTS `module_table`;
CREATE TABLE `module_table` (
	`id_module_table` INT(25) UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY COMMENT 'identifikator',
	`id_module` INT (25) UNSIGNED NOT NULL COMMENT 'modul, ke kteremu tabulka patri',
	`table` VARCHAR(100) NOT NULL UNIQUE COMMENT 'nazev tabulky',
	`name_column` VARCHAR(100) NOT NULL COMMENT 'nazev sloupce, ktery obsahuje nazev entity',
	`identificator_column` VARCHAR(100) NOT NULL COMMENT 'nazev sloupce, ktery obsahuje identifikator entity',
	FOREIGN KEY (`id_module`) REFERENCES `module`(`id_module`) ON UPDATE CASCADE ON DELETE CASCADE
) ENGINE = InnoDB COMMENT = 'Tabulky, ktere jsou nalezi jednotlivym modulum.';